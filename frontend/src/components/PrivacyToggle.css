/**
 * PrivacyToggle Styles
 * Styling for the privacy mode toggle button
 * Includes smooth transitions, responsive design, and theme support
 */

/* Base toggle button styles */
.privacy-toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    background: var(--bg-secondary, rgba(255, 255, 255, 0.1));
    border: 1px solid var(--border-color, rgba(255, 255, 255, 0.1));
    border-radius: 10px;
    cursor: pointer;
    color: var(--text-secondary, #666);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    outline: none;
}

/* Size variants */
.privacy-toggle--small {
    padding: 0.375rem 0.5rem;
    font-size: 0.75rem;
}

.privacy-toggle--medium {
    padding: 0.5rem 0.75rem;
    font-size: 0.875rem;
}

.privacy-toggle--large {
    padding: 0.625rem 1rem;
    font-size: 1rem;
}

/* State: Numbers visible (default) */
.privacy-toggle--visible {
    color: var(--text-secondary, #666);
    background: var(--bg-secondary, rgba(255, 255, 255, 0.1));
}

.privacy-toggle--visible:hover {
    color: var(--primary, #6c5ce7);
    background: var(--primary-light, rgba(108, 92, 231, 0.1));
    border-color: var(--primary, #6c5ce7);
    transform: scale(1.02);
}

/* State: Numbers hidden (privacy on) */
.privacy-toggle--hidden {
    color: var(--warning-color, #f39c12);
    background: rgba(243, 156, 18, 0.1);
    border-color: var(--warning-color, #f39c12);
}

.privacy-toggle--hidden:hover {
    color: var(--warning-color, #f39c12);
    background: rgba(243, 156, 18, 0.15);
    transform: scale(1.02);
}

/* Focus styles for accessibility */
.privacy-toggle:focus-visible {
    outline: 2px solid var(--primary, #6c5ce7);
    outline-offset: 2px;
}

/* Icon animation */
.privacy-toggle svg {
    transition: transform 0.3s ease;
}

.privacy-toggle:hover svg {
    transform: scale(1.1);
}

.privacy-toggle--hidden svg {
    animation: pulse-eye 2s infinite ease-in-out;
}

@keyframes pulse-eye {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.7;
    }
}

/* Label styles */
.privacy-toggle__label {
    font-weight: 500;
    white-space: nowrap;
}

/* Masked amount placeholder styles - can be used globally */
.privacy-masked {
    font-family: monospace;
    letter-spacing: 0.1em;
    color: var(--text-muted, #888);
    user-select: none;
}

/* Animation for revealing/hiding numbers */
.privacy-amount-reveal {
    animation: reveal-number 0.3s ease-out;
}

@keyframes reveal-number {
    from {
        opacity: 0;
        transform: translateY(-4px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .privacy-toggle--medium {
        padding: 0.5rem;
    }
    
    .privacy-toggle__label {
        display: none;
    }
}

/* Dark theme adjustments */
[data-theme="dark"] .privacy-toggle {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(255, 255, 255, 0.1);
}

[data-theme="dark"] .privacy-toggle--visible:hover {
    background: rgba(108, 92, 231, 0.2);
}

[data-theme="dark"] .privacy-toggle--hidden {
    background: rgba(243, 156, 18, 0.15);
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .privacy-toggle {
        border-width: 2px;
    }
    
    .privacy-toggle--hidden {
        border-color: currentColor;
    }
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {
    .privacy-toggle,
    .privacy-toggle svg {
        transition: none;
    }
    
    .privacy-toggle--hidden svg {
        animation: none;
    }
    
    .privacy-amount-reveal {
        animation: none;
    }
}

/* ============================================
   MASKED NUMBER STYLES
   Global class for hiding financial amounts
   ============================================ */

/* Blur effect for hidden numbers - High specificity to override gradient text */
.masked-number,
.amount.masked-number,
.transaction-amount.masked-number,
.amount-value.masked-number,
.summary-value.masked-number,
.summary-detail.masked-number,
.category-amount.masked-number,
.stat-value.masked-number,
.expense-amount.masked-number,
.income-amount.masked-number,
.timeline-card-amount.masked-number,
.budget-values.masked-number,
.saving-values.masked-number {
    /* Override any background-clip to ensure blur works */
    -webkit-background-clip: unset !important;
    background-clip: unset !important;
    -webkit-text-fill-color: var(--text-primary) !important;
    background: none !important;
    color: var(--text-primary) !important;
    /* Strong blur to hide numbers */
    filter: blur(12px) !important;
    user-select: none !important;
    pointer-events: none !important;
    transition: filter 0.3s ease;
    /* Ensure it's visible but blurred */
    opacity: 0.6;
}

/* Remove blur on hover for quick peek (optional) */
.masked-number:hover,
.amount.masked-number:hover,
.transaction-amount.masked-number:hover {
    filter: blur(6px) !important;
    opacity: 0.8;
}

/* Dark theme adjustments */
[data-theme='dark'] .masked-number,
[data-theme='dark'] .amount.masked-number,
[data-theme='dark'] .transaction-amount.masked-number,
[data-theme='dark'] .amount-value.masked-number,
[data-theme='dark'] .summary-value.masked-number,
[data-theme='dark'] .summary-detail.masked-number {
    -webkit-text-fill-color: var(--text-primary) !important;
    color: var(--text-primary) !important;
    filter: blur(12px) !important;
    opacity: 0.5;
}

/* Alternative: Replace with dots/asterisks instead of blur */
.masked-number--dots::after {
    content: '••••••';
    position: absolute;
    left: 0;
    right: 0;
    text-align: inherit;
}
